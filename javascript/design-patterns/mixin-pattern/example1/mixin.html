<html>
<head>
</head>
<body>
<div id="myToolbar" class="toobar">
	<span class="toolbar-item"></span>
	<span class="toolbar-item"></span>
	<span class="toolbar-item"></span>
</div>

<a id="itemStateToggle" href="#">Toggle Active State of Item 1</a>



<script type="text/javascript">
	
	//mixins pattern-------------------//

	//toolbar - finds any elements inside the toolbar element
	//then puts them into a collection called items
	var toolbar = new Toolbar("myToolbar");
	var toggle = document.getElementById("itemToggle");

	toggle.addEventListener("click", function (e) {
	  e.target.toggleActiveState();
	  e.preventDefault();
	})

	//we reach in to the source object, grab the specified method
	//and add it to the target object. It's kindof backwards. 
	function mixin(target, source, methods) {
	//start at index 2 - because that's the methods parameter
	  for (var i = 2; i < arguments.length; i++) {
	    var method = arguments[i];
	    target[method] = source[method].bind(source);
	  }
	}

	mixin(toggle, toolbar.items[0], "toggleActiveState");


</script>
</body>
</html>
