<?php  //order sorting for contributersfunction render_sort_order() {//remember must include this to get options since it's in a function.$contrib_option = contrib_get_global_options();$orderby = array();//make sure at least null is in place if $contrib_option['contrib_order'] to avoid error$orderstring = array_key_exists('contrib_order', $contrib_option) ? $contrib_option['contrib_order'] : null;$orderby = explode(',',$orderstring);//contributors list------------------------------------------------------------//$args = array(//            'fields' => 'all_with_meta',//            'meta_key' => 'add_contributor',            'exclude' => $orderby,//            'exclude' => array(1),//            'meta_value' => '1'        );// The Query$user_query = new WP_User_Query($args);echo '<div class="sorting-container">';echo '<div id="contrib-users" class="connectedSortable">';//the message to show when no items (controlled by sort-order.js)echo '<span class="empty-message">All authors used</span>';// User Loop        if ($user_query->results) {                foreach ($user_query->results as $author) {                        // get all the user's data                        $author_info = get_userdata($author->ID);                        echo '<div data-id=' . $author->ID . '>';                        $name = get_user_meta($author->ID, 'contrib_name', true);                        if ($name) {                            echo $name;                        } else {                            echo $author_info->first_name . ' ';                            echo $author_info->last_name;                        }                        echo '<div class="delete">x</div>';                        echo '</div>';                }        } else {//            echo '<div>all authors used.</div>';        }//    }echo '</div>';//authors list------------------------------------------------------------//        $args = array(//                    'fields' => 'all_with_meta',//                    'meta_key' => 'add_contributor',//                    'meta_value' => '1'                      'exclude' => array()                );// The Query$user_query = new WP_User_Query($args );echo '<div id="contrib-sort-order" class="connectedSortable">';//the message to show when no items (controlled by sort-order.js)echo '<span class="empty-message">Drag in an author to display</span>';// User Loop        if ( $orderstring )  {            for ($i = 0; $i <= count($orderby) - 1; $i++) {                foreach ($user_query->results as $author) {                    if($orderby[$i] == $author->ID) {                        // get all the user's data                        $author_info = get_userdata($author->ID);                        echo '<div data-id=' . $author->ID . '>';                        $name = get_user_meta($author->ID, 'contrib_name', true);                        if ($name) {                            echo $name;                        } else {                            echo $author_info->first_name;                            echo $author_info->last_name;                        }                        echo '<div class="delete">x</div>';                        echo '</div>';                    }                }            }         } else {//            echo 'Drag in an author to display.';        }//    }echo '</div><br/><br/>'; //end sorting container}?>